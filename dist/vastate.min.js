(()=>{"use strict";class t{constructor(t,e){this.placeholder="{#VALUE#}",this.isLoading=!1,this.value=e,this.name=t,this.reloadDom()}setLoading(t){this.isLoading=t,this.reloadDom()}static setLoadingTemplate(t){this.loadingTemplate=t}get(){return this.value}set(t){this.value=t,this.reloadDom()}reloadDom(){const e=document.querySelectorAll(`vastate-each[state="${this.name}"], [vastate-each][state="${this.name}"]`);document.querySelectorAll(`vastate-print[state="${this.name}"], [vastate-print][state="${this.name}"]`).forEach((e=>{this.isLoading?e.innerHTML+=t.loadingTemplate:(e.innerHTML=e.innerHTML.split(t.loadingTemplate).join(""),e.hasAttribute("obj")?e.hasAttribute("html")?e.innerHTML=e.innerHTML.split(this.placeholder).join(this.get()[e.getAttribute("obj")]):e.textContent=e.textContent.split(this.placeholder).join(this.get()[e.getAttribute("obj")]):e.hasAttribute("html")?e.innerHTML=e.innerHTML.split(this.placeholder).join(this.get()):e.textContent=e.textContent.split(this.placeholder).join(this.get()))})),e.forEach((e=>{for(;e.children.length>1;)e.removeChild(e.lastElementChild);const i=Array.isArray(this.get())?this.get():[];if(i.length<1)if(this.isLoading)e.innerHTML+=t.loadingTemplate;else for(;e.children.length>1;)e.removeChild(e.lastElementChild);else null==i||i.forEach((t=>{var i,n;const a=document.querySelector(`vastate-each[state="${this.name}"] > *, [vastate-each][state="${this.name}"] > *`),l=null==a?void 0:a.cloneNode(!0);null==a||a.setAttribute("hidden","true"),"vastate-print"==l.tagName.toLocaleLowerCase()||l.hasAttribute("vastate-print")?(l.removeAttribute("hidden"),l.innerHTML=null===(i=l.innerHTML)||void 0===i?void 0:i.split(this.placeholder).join("object"==typeof t?t[null!==(n=l.getAttribute("obj"))&&void 0!==n?n:0]:t)):null==l||l.querySelectorAll("vastate-print, [vastate-print]").forEach((e=>{var i,n;e.removeAttribute("hidden"),e.innerHTML=null===(i=e.innerHTML)||void 0===i?void 0:i.split(this.placeholder).join("object"==typeof t?t[null!==(n=e.getAttribute("obj"))&&void 0!==n?n:0]:t)})),e.appendChild(l)}))}))}}window.Vastate=t})();