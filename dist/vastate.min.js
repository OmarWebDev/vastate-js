(()=>{"use strict";var t={d:(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>r});const a=document.createElement("style");a.innerHTML="\n        [vastate-loader] *[vastate-print], \n        [vastate-loader] vastate-print, \n        [vastate-loader] *[vastate-print-group], \n        [vastate-loader] vastate-print-group, \n        [vastate-loader] *[vastate-each], \n        [vastate-loader] vastate-each {\n            display: none !important;\n        }\n    ",document.head.appendChild(a);class s{constructor(t,e){this.placeholder="{#VALUE#}",this.previousValue=this.placeholder,this.isLoading=!1,this.loadingTemplate=s.loadingTemplate,this.events={change:()=>{}},this.saveMode="localStorage",this.groupedVastatePrintsSelector="vastate-print:not(vastate-print[state]), [vastate-print]:not([vastate-print][state])",this.value=e,this.name=t,this.vastatePrintsSelector=`vastate-print[state="${this.name}"], [vastate-print][state="${this.name}"]:not([vastate-group])`,this.reloadDom()}static mount(){a.remove()}setLoading(t){return this.isLoading=t,this.reloadDom(),this}static setLoadingTemplate(t){this.loadingTemplate=t}get(){return this.value}getPreviousValue(){return this.previousValue}set(t){return this.value!=this.previousValue&&(this.previousValue=this.value),this.value=t,this.trigger("change"),this.reloadDom(),this}on(t,e){this.events[t]=e}trigger(t,...e){this.events[t]?this.events[t](...e):s.throwError(`Undefined event '${t}'. Did you created the event using 'on' method?`)}reloadDom(){this.reloadVastateEachs(),this.reloadVastatePrints(),this.reloadVastateGroups()}reloadVastatePrints(t=document.body){t.querySelectorAll(t.hasAttribute("vastate-print-group")||"vastate-print-group"==t.tagName.toLowerCase()?this.groupedVastatePrintsSelector:this.vastatePrintsSelector).forEach((t=>{if(this.isLoading)t.innerHTML+=this.loadingTemplate;else{const e=t.hasAttribute("obj")&&"object"==typeof this.previousValue?this.previousValue[t.getAttribute("obj")].toString():this.previousValue.toString();t.innerHTML=t.innerHTML.split(this.loadingTemplate).join(""),t.hasAttribute("html")?t.innerHTML=t.innerHTML.split(e).join(this.getVastatePrintValue(t)):t.textContent=t.textContent.split(e).join(this.getVastatePrintValue(t))}}))}reloadVastateEachs(t=document.body){t.querySelectorAll(`vastate-each[state="${this.name}"], [vastate-each][state="${this.name}"]`).forEach((t=>{this.resetVastateEach(t);const e=Array.isArray(this.get())?this.get():[];if(e.length<1)return this.isLoading?void(t.innerHTML+=this.loadingTemplate):void this.resetVastateEach(t);null==e||e.forEach((e=>{var a;const s=document.querySelector(`vastate-each[state="${this.name}"] > *, [vastate-each][state="${this.name}"] > *`),r=null==s?void 0:s.cloneNode(!0);r.removeAttribute("hidden"),"vastate-print"==r.tagName.toLocaleLowerCase()||r.hasAttribute("vastate-print")?r.innerHTML=null===(a=r.innerHTML)||void 0===a?void 0:a.split(this.placeholder).join(this.getVastatePrintValue(r,e)):null==r||r.querySelectorAll("vastate-print, [vastate-print]").forEach((t=>{var a;t.removeAttribute("hidden"),t.innerHTML=null===(a=t.innerHTML)||void 0===a?void 0:a.split(this.placeholder).join(this.getVastatePrintValue(t,e))})),t.appendChild(r)}))}))}reloadVastateGroups(){document.querySelectorAll(`vastate-print-group[state="${this.name}"], [vastate-print-group][state="${this.name}"]`).forEach((t=>this.reloadVastatePrints(t)))}getVastatePrintValue(t,e=this.get()){var a;return"object"!=typeof e||t.hasAttribute("obj")||s.throwError("You are trying to print an object without passing obj attribute in vastate print",t),"object"==typeof e&&Object.keys(e).length>0?e[null!==(a=t.getAttribute("obj").toString())&&void 0!==a?a:Object.keys(this.get())[0]]:e}static throwError(t,e){throw document.body.style.background="hsla(0,0%,90%,1)",document.body.style.color="hsla(0,0%,10%,.9)",document.body.style.fontFamily="arial",document.body.innerHTML=`\n                <h1>Vastate JS Error</h1>\n                <strong>${t}</strong>\n                <br>\n                ${e?`\n                <strong>Helpful Info:</strong>\n                <br>\n                <br>\n                <pre  style="  background: #262626; color:white;\n  font-weight: bold;\n  padding: 1rem;\n  border-radius: 6px;">\n                <code>${e.outerHTML.split("<").join("&lt;").split(">").join("&gt;")}</code>\n                </pre>`:""}            \n`,new TypeError(`Vastate JS Error: ${t}`)}resetVastateEach(t){t.innerHTML=t.innerHTML.split(this.loadingTemplate).join(""),t.querySelectorAll(":scope > *").forEach(((t,e)=>0!==e?t.remove():void 0))}setLoadingTemplate(t){return this.loadingTemplate=t,this}setSaveMode(t){return this.saveMode=t,this}getSaveMode(){return this.saveMode}save(){const t="object"==typeof this.get()||Array.isArray(this.get())?JSON.stringify(this.get()):this.get().toString();switch(this.getSaveMode()){case"localStorage":localStorage.setItem(this.name,t);break;case"sessionStorage":sessionStorage.setItem(this.name,t);break;default:s.throwError("Unsupported save mode: "+this.getSaveMode())}return this}restore(){switch(this.getSaveMode()){case"localStorage":localStorage.getItem(this.name)&&this.set(JSON.parse(localStorage.getItem(this.name)));break;case"sessionStorage":sessionStorage.getItem(this.name)&&this.set(JSON.parse(sessionStorage.getItem(this.name)));break;default:s.throwError("Unsupported save mode: "+this.getSaveMode())}return this}}s.loadingTemplate="";const r=s;window.Vastate=e.default})();