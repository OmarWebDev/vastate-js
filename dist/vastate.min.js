(()=>{"use strict";var t={d:(e,s)=>{for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>u});class s extends HTMLElement{constructor(){super(),this.signedEvents={},this.attachShadow({mode:"open"})}attributeChangedCallback(t){"value"===t&&this.render()}connectedCallback(){this.render()}static get observedAttributes(){return["value"]}get value(){if(!this.hasAttribute("value"))return[];try{return JSON.parse(this.getAttribute("value"))}catch(t){throw new TypeError("VaEach: value must be an array")}}set value(t){this.setAttribute("value",JSON.stringify(t))}render(){const t=this.querySelector("template");this.shadowRoot.innerHTML="",this.value.forEach((e=>{const s=t.cloneNode(!0);this.shadowRoot.appendChild(this.attachEvents(s).content),this.shadowRoot.querySelectorAll("va-print:not(va-print[id], va-print[value])").forEach((t=>{t.setAttribute("value",JSON.stringify(e))}))}))}getCallback(t,e){var s;try{return null!==(s=this.signedEvents[t][e])&&void 0!==s?s:()=>{}}catch(t){return()=>{}}}attachEvents(t){return t.content.querySelectorAll("*[va-event]").forEach((t=>{let e,s,a=t.getAttribute("va-callback");if(a)e=t.getAttribute("va-event"),s=this.getCallback(e,a);else{const r=t.getAttribute("va-event");r?([e,a]=r.split(":"),s=this.getCallback(e,a)):(e="noevent",s=()=>{})}t.addEventListener(e,s)})),t}signEvent(t,e){this.signedEvents[t]=e}}class a extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}attributeChangedCallback(t){"value"!==t&&"key"!==t||this.render()}connectedCallback(){this.render()}static get observedAttributes(){return["value","key"]}get value(){if(!this.hasAttribute("value"))return"";try{return JSON.parse(this.getAttribute("value"))}catch(t){return this.getAttribute("value")}}get key(){var t;return!!this.hasAttribute("key")&&null!==(t=this.getAttribute("key"))&&void 0!==t&&t}set value(t){this.setAttribute("value",Array.isArray(t)||"object"==typeof t?JSON.stringify(t):t.toString())}render(){const t=Array.isArray(this.value)?"Printing an array is not supported use VaEach instead":"object"==typeof this.value?this.value[this.key?this.key:0]:this.value;this.hasAttribute("html")?this.shadowRoot.innerHTML=t:this.shadowRoot.textContent=t}signEvent(){}}class r extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}attributeChangedCallback(t){"value"===t&&this.render()}connectedCallback(){this.render()}static get observedAttributes(){return["value"]}get value(){if(!this.hasAttribute("value"))return"";try{return JSON.parse(this.getAttribute("value"))}catch(t){return this.value}}set value(t){this.setAttribute("value",JSON.stringify(t))}render(){this.shadowRoot.innerHTML=this.innerHTML,this.shadowRoot.querySelectorAll("va-print:not(va-print[id])").forEach((t=>{t.setAttribute("value",JSON.stringify(this.value))}))}}window.customElements.define("va-print",a),window.customElements.define("va-each",s),window.customElements.define("va-print-group",r);class i{constructor(t,e){this.storage=localStorage,this.element="string"!=typeof t?t:document.getElementById(t),this.value=e}set value(t){this.stateValue!==t&&(this.stateValue=t,this.update())}get value(){return this.stateValue}update(){this.element.value=this.stateValue}set key(t){this.element.setAttribute("key",t)}get key(){return this.element.getAttribute("key")}setSaveStorage(t){return this.storage=t,this}save(){return this.storage&&this.storage.setItem(this.element.id,"object"==typeof this.stateValue||Array.isArray(this.stateValue)?JSON.stringify(this.stateValue):this.stateValue.toString()),this}load(){var t,e;return this.storage&&(this.value=null!==(e=null!==(t=JSON.parse(this.storage.getItem(this.key)||"null"))&&void 0!==t?t:this.storage.getItem(this.element.id))&&void 0!==e?e:this.value),this}static multiple(t,e){return new n(t,e)}on(t,e){return this.element.signEvent(t,e),this}}class n{constructor(t,e){this.states=[],document.querySelectorAll(t).forEach((t=>{this.states.push(new i(t,e))}))}get value(){return this.states.map((t=>t.value))}set value(t){this.states.forEach((e=>e.value=t))}save(){return this.states.forEach((t=>t.save())),this}load(){return this.states.forEach((t=>t.load())),this}setSaveStorage(t){return this.states.forEach((e=>e.setSaveStorage(t))),this}}const u=i;window.Vastate=e.default})();